<jmixCodeSnippets xmlns="http://jmix.io/schema/core/code-snippets">
<category name="Jmix PM">
    <codeSnippet name="Load least busy user" contextTypes="service,controller">
        <inject variable="taskService" classQualifiedName="com.company.jmixpmflowbase.app.TaskService"/>
        <text language="java">
            com.company.jmixpmflowbase.entity.User leastBusyUser = taskService.findLeastBusyUser();
        </text>
        <description>
            <![CDATA[Gets least busy user]]>
        </description>
    </codeSnippet>

    <codeSnippet name="Load project by current authenticated manager" contextTypes="service,controller">
        <inject variable="dataManager" classQualifiedName="io.jmix.core.DataManager"/>
        <text language="java">
            java.util.List&lt;com.company.jmixpmflowbase.entity.Project&gt; list = dataManager.load(com.company.jmixpmflowbase.entity.Project.class)
            .query("select p from Project p where p.manager.id = :current_user_id")
            .list();
        </text>
        <description>
            Load project by current authenticated manager
        </description>
    </codeSnippet>

    <codeSnippet name="Show tray notification" contextTypes="controller">
        <inject variable="notifications" classQualifiedName="io.jmix.flowui.Notifications"/>
        <text language="java">
            notifications.create("${caption}", "${description}")
            .withType(Notifications.Type.DEFAULT)
            .withPosition(Notification.Position.BOTTOM_END)
            .show();
        </text>
        <description>
            Show tray notification
        </description>
        <stringInputParameter code="caption" text="Notification caption"/>
        <stringInputParameter code="description" text="Notification description"/>
    </codeSnippet>

</category>

</jmixCodeSnippets>
